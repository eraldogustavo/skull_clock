<h1>Editing clock</h1>

<div class="container">
    <% if @clock.present? %>
      <div class="row justify-content-center">
        <h1 class="mt-4 mb-4 display-4">Edit clock</h1>
      </div>

      <div class="row justify-content-center">
        <%= form_with(model: @clock, local: true) do |form| %>
          <div class="form-group">
            <%= form.label :label %>
            <%= form.text_field :label %>
          </div>

          <div class="form-group">
            <%= form.label :start_time %>
            <%= form.datetime_field :start_time %>
          </div>

          <div class="form-group">
            <%= form.label :stop_time %>
            <%= form.datetime_field :stop_time %>
          </div>

          <div class="form-group">
            <%= form.submit 'Edit', class: 'form-control btn-primary' %>
          </div>
        <% end %>
      </div>  

      <%= started_at = 2.days.ago 
          time_diff = (@clock.stop_time - @clock.start_time)
          (time_diff / 1.minute).round > 5
      %>

      <%= @clock.start_time.to_i < Time.now.to_i %>

    <% else %>
      <p>No clock found</p>
    <% end %>

  <%= link_to "Back to clocks", clocks_path %>
</div>
